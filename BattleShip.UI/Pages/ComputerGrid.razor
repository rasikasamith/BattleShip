@page "/computer-grid"
@inherits ComputerGridBase;

@using BattleShip.Models
@using BattleShip.UI.Service.Contracts


<div class="row justify-content-center">
<h3 class="row justify-content-center">Enemy Fleet</h3>
<br /><br />

<table class="table table-bordered" style="width:400px; height:400px; border-collapse: collapse;">
    @for (int i = 0; i < 10; i++)
    {
        <tr style="height: calc(100% / 10);">
            @for (int j = 0; j < 10; j++)
            {
              
                ShipDto? selectedShip = AllShipsDemo?.FirstOrDefault(ship =>
                                        ship.CoveringAera.Any(node => node.RowValue == i && node.ColValue == j));

                String position = i.ToString()+","+j.ToString();

                    <td @onclick="() => HandleClick(position)"
                    style="width: calc(100% / 10); border: 1px solid black; background-color: lightblue">                     

                    @if (selectedShip != null)
                    {   
                        <span id="shipInfo" hidden="hidden">@i;@j;@selectedShip.Name;</span>
                           @*  <span id="shipInfo" >@i;@j;@selectedShip.Name;</span> *@
                    }
                    else
                    {
                        <span id="shipInfo" hidden="hidden">@i;@j;N</span>
                          @*   <span id="shipInfo" >@i;@j;N</span> *@
                    }
                </td>
            }
        </tr>
    }
</table>
<table class="table table-bordered row" style="width:400px; border-collapse: collapse;">
        <tr style="text-align:center"><th>Ship</th><th>Total Hits</th><th>Status</th></tr>
    <tr><td>BattleShip</td><td>3/5</td><td>Partially Damaged</td></tr>
    <tr><td>Distroyer 1</td><td>2/2</td><td>Sinked</td></tr>
    <tr><td>Distroyer 2</td><td>0/2</td><td>No Damaged</td></tr>
    <tr><td style="font-size:larger">Score</td><td colspan="2" style="color:darkred;font-size:larger;text-align:center" >500</td></tr>
</table>     
 
</div>

@foreach (var item in ClickedPositions)
{
    <div>@item.Item1,@item.Item2</div>
}


